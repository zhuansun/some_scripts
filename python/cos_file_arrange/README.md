

# 使用方法
1、创建python虚拟环境；
> python -m venv cos
2、安装依赖（必须的）；
>  pip install -U cos-python-sdk-v5
3、运行ipynb脚本；



# 背景

我的笔记都是markdown的，使用的腾讯云的cos作为图床；

但是 typora 上传图片之后，如果删除，不会删除 cos 中的图片。 

这样就会导致cos中的图片越来越多。

所以，我准备搞一个脚本，可以方便我清理cos中的没用的图片。

我的第一个版本的思路是：
- 在typora中手动删除图片的时候，使用 服务，远程调用接口实现删除cos中的图片；
- 后来我思考了一下，还是算了吧，这样太麻烦了。 每次都要通过 typora ；

所以我的第二版思路是:
前提：我的图床在cos中是一个特定的目录；
- 遍历 cos 中该目录下的所有图片；
- 记录下图片的ID；
- 遍历 typora 目录下的所有文件。一行一行的解析，判断其中是否引用到了图片；
- 把没有用到的图片都删除




